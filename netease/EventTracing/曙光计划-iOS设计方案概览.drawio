<mxfile host="app.diagrams.net" modified="2021-03-05T07:08:16.976Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.192 Safari/537.36" etag="0teKbM2ToYczIedO4ugU" version="14.4.4" type="github">
  <diagram id="Fw7ZkmO-Fz_IXCNn4WgB" name="Page-1">
    <mxGraphModel dx="2858" dy="2300" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="-9IPMKyI9ktzAvCkotJi-9" value="&lt;b&gt;Engine&lt;/b&gt;" style="ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="180" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-31" value="Configuration" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="140" y="-30" width="160" height="116" as="geometry">
            <mxRectangle x="130" y="-30" width="120" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-32" value="debugMode等一些参数" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-9IPMKyI9ktzAvCkotJi-31" vertex="1">
          <mxGeometry y="26" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-33" value="设置回调Delegate" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-9IPMKyI9ktzAvCkotJi-31" vertex="1">
          <mxGeometry y="56" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-34" value="add各种observer" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-9IPMKyI9ktzAvCkotJi-31" vertex="1">
          <mxGeometry y="86" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-35" value="" style="endArrow=diamondThin;html=1;dashed=1;endFill=0;strokeColor=#8C8C8C;" parent="1" source="-9IPMKyI9ktzAvCkotJi-31" target="-9IPMKyI9ktzAvCkotJi-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="320" as="sourcePoint" />
            <mxPoint x="350" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-37" value="&lt;b&gt;Observer&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="625" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-39" value="&lt;b&gt;AOP&lt;/b&gt;" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.loop_limit;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="110" y="290" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-40" value="" style="endArrow=blockThin;html=1;endFill=1;strokeColor=#8C8C8C;" parent="1" source="-9IPMKyI9ktzAvCkotJi-9" target="-9IPMKyI9ktzAvCkotJi-39" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="276" as="sourcePoint" />
            <mxPoint x="310" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-41" value="apply" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-40" vertex="1" connectable="0">
          <mxGeometry x="0.1987" y="2" relative="1" as="geometry">
            <mxPoint x="-2" y="-5.83" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-42" value="&lt;b&gt;traverser&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="350" y="570" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-45" value="&lt;b&gt;Traverser&lt;br&gt;Runner&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="570" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-46" value="&lt;font color=&quot;#888888&quot; style=&quot;font-size: 10px&quot;&gt;1. Runloop的observer&lt;br style=&quot;font-size: 10px&quot;&gt;2. 一些hock事件触发&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="-170" y="450" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-47" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-46" target="-9IPMKyI9ktzAvCkotJi-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-200" y="450" as="sourcePoint" />
            <mxPoint x="-200" y="544" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-48" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-39" target="-9IPMKyI9ktzAvCkotJi-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="430" y="390" as="sourcePoint" />
            <mxPoint x="480" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-62" value="Hock事件&lt;br&gt;=&amp;gt; try遍历" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-48" vertex="1" connectable="0">
          <mxGeometry x="0.0588" y="-1" relative="1" as="geometry">
            <mxPoint x="-2.3099999999999987" y="17.330000000000005" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-50" value="APP生命周期事件" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="-65" y="345" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-51" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-50" target="-9IPMKyI9ktzAvCkotJi-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="365" y="260" as="sourcePoint" />
            <mxPoint x="365" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-63" value="系统的事件&lt;br&gt;=&amp;gt;try遍历" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-51" vertex="1" connectable="0">
          <mxGeometry x="-0.4571" y="2" relative="1" as="geometry">
            <mxPoint x="19.08" y="69" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-52" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-45" target="-9IPMKyI9ktzAvCkotJi-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="540" y="490" as="sourcePoint" />
            <mxPoint x="540" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-61" value="run" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-52" vertex="1" connectable="0">
          <mxGeometry x="-0.1385" y="-1" relative="1" as="geometry">
            <mxPoint y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-53" value="&lt;font color=&quot;#888888&quot;&gt;1. 自顶向下遍历，生成VTree&lt;br&gt;2. 后期考虑增量遍历&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="300" y="450" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-54" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-53" target="-9IPMKyI9ktzAvCkotJi-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="69.99818181818199" y="530" as="sourcePoint" />
            <mxPoint x="303.18" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-91" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=ERmany;endFill=0;strokeColor=#000000;" parent="1" source="ZJUZ4eZtSbDHKU7JVQRD-1" target="-9IPMKyI9ktzAvCkotJi-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-95" value="1..n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-91" vertex="1" connectable="0">
          <mxGeometry x="-0.0273" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-55" value="&lt;b&gt;VTree&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="610" y="460" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-56" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-42" target="-9IPMKyI9ktzAvCkotJi-55" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="530" y="510" as="sourcePoint" />
            <mxPoint x="530" y="640" as="targetPoint" />
            <Array as="points">
              <mxPoint x="671" y="595" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-60" value="生成VTree" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-56" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint x="-3" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-57" value="&lt;b&gt;Context&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="165" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-58" value="" style="endArrow=block;html=1;endFill=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="-9IPMKyI9ktzAvCkotJi-9" target="-9IPMKyI9ktzAvCkotJi-57" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="300" as="sourcePoint" />
            <mxPoint x="290" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-59" value="初始化 &amp;amp; 持有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-58" vertex="1" connectable="0">
          <mxGeometry x="0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-7" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-67" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-55" target="-9IPMKyI9ktzAvCkotJi-57" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600.0027272727275" y="620" as="sourcePoint" />
            <mxPoint x="510" y="480" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-68" value="VTree更新状态&lt;br&gt;被Context感知" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-67" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-69" value="&lt;font color=&quot;#888888&quot;&gt;1. 存储着 所有实体节点的树状结构2. 节点的状态&lt;br&gt;3. 节点的逻辑挂载在这里体现&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="792" y="525" width="190" height="95" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-70" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-69" target="-9IPMKyI9ktzAvCkotJi-55" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="689" y="440" as="sourcePoint" />
            <mxPoint x="785" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-72" value="&lt;b&gt;Data Outputer&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="912" y="165" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-73" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="ZJUZ4eZtSbDHKU7JVQRD-1" target="-9IPMKyI9ktzAvCkotJi-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="570" y="230" as="sourcePoint" />
            <mxPoint x="570" y="435" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-74" value="曝光 &amp;amp; 点击等埋点&lt;br&gt;可以配置多个Outputer" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-73" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-76" value="&lt;b&gt;Output Formater&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1050" y="20" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-79" value="使用formater进行格式化输出" style="endArrow=diamondThin;html=1;dashed=1;endFill=0;strokeColor=#8C8C8C;" parent="1" source="-9IPMKyI9ktzAvCkotJi-76" target="-9IPMKyI9ktzAvCkotJi-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="842" y="50" as="sourcePoint" />
            <mxPoint x="842" y="114" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-82" value="&lt;b&gt;Event act&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="405" y="360" width="90" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-83" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-39" target="-9IPMKyI9ktzAvCkotJi-82" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="215" y="340" as="sourcePoint" />
            <mxPoint x="215" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-84" value="Hock的action事件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-83" vertex="1" connectable="0">
          <mxGeometry x="0.0588" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-86" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-50" target="-9IPMKyI9ktzAvCkotJi-82" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="10.001226930141403" y="230.00287543123568" as="sourcePoint" />
            <mxPoint x="132.25481481481478" y="316.77" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-87" value="系统的事件&lt;br&gt;=&amp;gt;触发act" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-86" vertex="1" connectable="0">
          <mxGeometry x="-0.4571" y="2" relative="1" as="geometry">
            <mxPoint x="77.89" y="39.230000000000004" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-88" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-82" target="-9IPMKyI9ktzAvCkotJi-57" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="610" as="sourcePoint" />
            <mxPoint x="460" y="225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-89" value="触发Context的&lt;br&gt;Event埋点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-88" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-96" value="&lt;font color=&quot;#888888&quot;&gt;1. 可以增加多个Observers&lt;br&gt;2. 每一个Observer可以监控某些曝光事件&lt;br&gt;3. 比如仅仅监听page_id=&#39;abc&#39;的曝光事件&lt;br&gt;4. Observer可被强/弱持有，可enable|disable&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="460" y="-130" width="250" height="90" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-97" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-96" target="-9IPMKyI9ktzAvCkotJi-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="30" y="639.5451436388507" as="sourcePoint" />
            <mxPoint x="105" y="639.1860465116279" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-98" value="&lt;b&gt;Public Params &lt;br&gt;Builder&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="827" y="20" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-99" value="&lt;font color=&quot;#888888&quot;&gt;1. 这里可以构建公参&lt;br&gt;2. 可以直接构建 &amp;amp; 回调构建&lt;br&gt;3. 默认配置文件可以配置各个公参的key&lt;br&gt;4. 业务方可以自定义新增其他公参&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="774.5" y="-130" width="225" height="90" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-100" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-99" target="-9IPMKyI9ktzAvCkotJi-98" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1441.6626785714284" y="150" as="sourcePoint" />
            <mxPoint x="1381.9975" y="195" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-101" value="使用formater进行格式化输出" style="endArrow=diamondThin;html=1;dashed=1;endFill=0;strokeColor=#8C8C8C;" parent="1" source="-9IPMKyI9ktzAvCkotJi-98" target="-9IPMKyI9ktzAvCkotJi-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1007" y="80" as="sourcePoint" />
            <mxPoint x="1007" y="175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-102" value="&lt;b&gt;Debug Log Outputer&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="910" y="410" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-103" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="ZJUZ4eZtSbDHKU7JVQRD-1" target="-9IPMKyI9ktzAvCkotJi-102" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="269.58" as="sourcePoint" />
            <mxPoint x="620" y="269.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-104" value="SDK内部的一些调试日志" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-103" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint x="9.52" y="1.3299999999999983" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-106" value="&lt;font color=&quot;#888888&quot;&gt;1. 默认提供一种内置的格式&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="1027.5" y="-100" width="165" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-107" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-106" target="-9IPMKyI9ktzAvCkotJi-76" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1232" y="-40.00000000000023" as="sourcePoint" />
            <mxPoint x="1232" y="30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-108" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="890" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-110" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="730" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-111" value="&lt;b&gt;SessionId Mgr&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="375" y="3" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-112" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-111" target="-9IPMKyI9ktzAvCkotJi-57" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="495" as="sourcePoint" />
            <mxPoint x="550" y="110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-113" value="SessionId变化时&lt;br&gt;通知Context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-112" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-114" value="&lt;b&gt;Params Guard&lt;br&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1310" y="20" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-115" value="&lt;font color=&quot;#888888&quot;&gt;1. 确保参数的使用是安全的&lt;br&gt;2. 比如业务参数，不可覆盖内置/公参&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="1257.5" y="-100" width="225" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-116" value="确保参数安全" style="endArrow=diamondThin;html=1;dashed=1;endFill=0;strokeColor=#8C8C8C;" parent="1" source="-9IPMKyI9ktzAvCkotJi-114" target="-9IPMKyI9ktzAvCkotJi-76" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1198.379310344828" y="80" as="sourcePoint" />
            <mxPoint x="1070.6206896551726" y="175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-117" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-115" target="-9IPMKyI9ktzAvCkotJi-114" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1222" y="-50.00000000000023" as="sourcePoint" />
            <mxPoint x="1222" y="20" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-118" value="&lt;font color=&quot;#888888&quot;&gt;NEBILogger&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="1280" y="165" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-120" value="" style="endArrow=block;html=1;endFill=1;strokeColor=#888888;" parent="1" source="-9IPMKyI9ktzAvCkotJi-72" target="-9IPMKyI9ktzAvCkotJi-118" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1312" y="280.7185714285716" as="sourcePoint" />
            <mxPoint x="1518.666666666667" y="369.29" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-121" value="&lt;font color=&quot;#888888&quot;&gt;可：输出到日志上传通道&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-120" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-122" value="&lt;font color=&quot;#888888&quot;&gt;Debug Console ...&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="1278" y="400" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-123" value="" style="endArrow=block;html=1;endFill=1;strokeColor=#888888;" parent="1" source="-9IPMKyI9ktzAvCkotJi-102" target="-9IPMKyI9ktzAvCkotJi-122" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1080" y="404.58000000000004" as="sourcePoint" />
            <mxPoint x="1370" y="404.58000000000004" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-124" value="&lt;font color=&quot;#888888&quot;&gt;输出到控制台/其他地方&lt;br&gt;可以根据tag/level来输出到不同的地方&lt;br&gt;&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-123" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-125" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-72" target="-9IPMKyI9ktzAvCkotJi-102" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1012" y="550" as="sourcePoint" />
            <mxPoint x="1237" y="675" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-126" value="可选&lt;br&gt;是否将格式化后的结果同步输出到Log" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-125" vertex="1" connectable="0">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint x="7" y="-26.67" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-127" value="业务方主动触发一个自定义事件" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="-145" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-128" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-127" target="-9IPMKyI9ktzAvCkotJi-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-360.00494474958003" y="280.00092634209483" as="sourcePoint" />
            <mxPoint x="-133.25142857142845" y="410.06" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-129" value="直接调用Engine来进行埋点" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-128" vertex="1" connectable="0">
          <mxGeometry x="-0.4571" y="2" relative="1" as="geometry">
            <mxPoint x="58.33" y="1.9999999999999991" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-130" value="&lt;font color=&quot;#888888&quot; style=&quot;font-size: 10px&quot;&gt;1. 这里仅针对于该事件埋点，需要附带上公参、层级结构等&lt;br&gt;&lt;/font&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;align=left;dashed=1;strokeColor=#888888;" parent="1" vertex="1">
          <mxGeometry x="-200" y="30" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-131" value="" style="endArrow=async;html=1;dashed=1;endFill=1;strokeColor=#8C8C8C;dashPattern=1 4;" parent="1" source="-9IPMKyI9ktzAvCkotJi-130" target="-9IPMKyI9ktzAvCkotJi-127" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-390" y="169.75489361702085" as="sourcePoint" />
            <mxPoint x="-295" y="169.16978723404264" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-132" value="" style="endArrow=block;html=1;endFill=1;" parent="1" source="-9IPMKyI9ktzAvCkotJi-9" target="-9IPMKyI9ktzAvCkotJi-82" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270.0010344827586" y="260" as="sourcePoint" />
            <mxPoint x="359.6562068965516" y="360" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-9IPMKyI9ktzAvCkotJi-133" value="来自于业务方的&lt;br&gt;自定义事件" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="-9IPMKyI9ktzAvCkotJi-132" vertex="1" connectable="0">
          <mxGeometry x="0.0588" y="-1" relative="1" as="geometry">
            <mxPoint x="-3.2200000000000024" y="-18.669999999999995" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-1" value="&lt;b&gt;ExposeWorker&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="610" y="165" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-2" value="" style="endArrow=block;html=1;endFill=1;" edge="1" parent="1" source="-9IPMKyI9ktzAvCkotJi-57" target="ZJUZ4eZtSbDHKU7JVQRD-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="460" y="225" as="sourcePoint" />
            <mxPoint x="460" y="620" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-3" value="触发(传入VTree)&lt;br&gt;曝光/反曝光" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ZJUZ4eZtSbDHKU7JVQRD-2">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint x="27.74" y="43.26" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-6" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#999999;" edge="1" parent="1" source="-9IPMKyI9ktzAvCkotJi-45" target="ZJUZ4eZtSbDHKU7JVQRD-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1109.5" y="929" as="sourcePoint" />
            <mxPoint x="1109.5" y="779" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-10" value="&lt;p class=&quot;p1&quot; style=&quot;margin: 0px ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;menlo&amp;#34;&quot;&gt;&lt;font color=&quot;#999999&quot;&gt;Throttler&lt;/font&gt;&lt;/p&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#999999;" vertex="1" parent="1">
          <mxGeometry x="-150" y="565" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-11" value="后续:" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontColor=#999999;" vertex="1" parent="1">
          <mxGeometry x="-110" y="565" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-12" value="&lt;font color=&quot;#888888&quot;&gt;NEBIloggerViewer&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;" vertex="1" parent="1">
          <mxGeometry x="1280" y="261" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-13" value="" style="endArrow=block;html=1;endFill=1;strokeColor=#888888;" edge="1" parent="1" source="-9IPMKyI9ktzAvCkotJi-72" target="ZJUZ4eZtSbDHKU7JVQRD-12">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1072" y="200" as="sourcePoint" />
            <mxPoint x="1290" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-14" value="&lt;font color=&quot;#888888&quot;&gt;可：输出到埋点校验通道&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ZJUZ4eZtSbDHKU7JVQRD-13">
          <mxGeometry x="-0.0109" y="-2" relative="1" as="geometry">
            <mxPoint y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZJUZ4eZtSbDHKU7JVQRD-15" value="&lt;font color=&quot;#333333&quot; style=&quot;font-size: 18px&quot;&gt;&lt;b style=&quot;font-size: 18px&quot;&gt;iOS SDK整体架构图：&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;fontColor=#999999;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="-200" y="-130" width="260" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
